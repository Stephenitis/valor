<!DOCTYPE HTML>
<html><head><meta charset="UTF-8"><title>Subspace</title><script type="text/javascript" src="elm-runtime.js"></script><script type="text/javascript">
Elm.Subspace = function(elm){
 var N = Elm.Native, _N = N.Utils(elm), _L = N.List(elm), _E = N.Error(elm), _str = N.JavaScript(elm).toString;
 var $op = {};
 var _ = Elm.Graphics.Text(elm); var Graphics = Graphics||{};Graphics.Text = _; var hiding={link:1, color:1, height:1}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Prelude(elm); var Prelude = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Signal(elm); var Signal = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.List(elm); var List = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Maybe(elm); var Maybe = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Time(elm); var Time = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Graphics.Element(elm); var Graphics = Graphics||{};Graphics.Element = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Graphics.Color(elm); var Graphics = Graphics||{};Graphics.Color = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Graphics.Collage(elm); var Graphics = Graphics||{};Graphics.Collage = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Graphics.Geometry(elm); var Graphics = Graphics||{};Graphics.Geometry = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Keyboard(elm); var Keyboard = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var _ = Elm.Window(elm); var Window = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var T = Elm.Graphics.Text(elm);
 var _ = Elm.Random(elm); var Random = _; var hiding={}; for(var k in _){if(k in hiding)continue;eval('var '+k+'=_["'+k+'"]')}
 var e, case0, starTilesize_0, starDensity_1, randstar_2, starPoints_3, starsLevel1_4, starsLevel2_5, l1color_6, l2color_7, viewPort_8, starLayers_9, _27000_40, vw_41, vh_42, sx_43, sy_44, starTilesize$_45, left_46, top_47, right_48, bottom_49, ltr_50, ttb_51, st_52, starTile_10, absX_81, absY_82, dx1_83, dy1_84, dx2_85, dy2_86, shape_87, filledRect_88, moved_89, star_90, clamp_11, mapW_12, mapH_13, shipW_14, shipH_15, userInput_17, defaultGame_20, stepGame_21, _85000_120, x_121, y_122, angle_123, dx_124, dy_125, background_22, ship_23, whiteTextForm_24, debug_25, display_26, vp_139, _110000_140, left_141, top_142, right_143, bottom_144, ltr_145, ttb_146, sl_147, displayLayers_148, delta_27, avgFPS_28, input_29, gameState_30, main_31;
 UserInput_16 = function(a1){
  return {ctor:"UserInput", _0:a1};};
 Input_18 = F2(function(a1, a2){
  return {ctor:"Input", _0:a1, _1:a2};});
 GameState_19 = function(a1){
  return {ctor:"GameState", _0:a1};};
 randstar_2 = function(__32){
  return A2(rangeSync, 0, starTilesize_0);};
 viewPort_8 = function(_19000_34){
  return (e=_19000_34.ctor==='Tuple4'?{ctor:"Tuple4", _0:toFloat(_19000_34._0), _1:toFloat(_19000_34._1), _2:_19000_34._2, _3:_19000_34._3}:null,e!==null?e:_E.Case('Line 19, Column 27'));};
 starLayers_9 = function(vp_39){
  return (_27000_40 = vp_39, vw_41 = (e=_27000_40.ctor==='Tuple4'?_27000_40._0:null,e!==null?e:_E.Case('Line 27, Column 23')), vh_42 = (e=_27000_40.ctor==='Tuple4'?_27000_40._1:null,e!==null?e:_E.Case('Line 27, Column 23')), sx_43 = (e=_27000_40.ctor==='Tuple4'?_27000_40._2:null,e!==null?e:_E.Case('Line 27, Column 23')), sy_44 = (e=_27000_40.ctor==='Tuple4'?_27000_40._3:null,e!==null?e:_E.Case('Line 27, Column 23')), starTilesize$_45 = toFloat(starTilesize_0), left_46 = floor(((sx_43-vw_41)/starTilesize$_45)), top_47 = floor(((sy_44-vh_42)/starTilesize$_45)), right_48 = floor(((sx_43+vw_41)/starTilesize$_45)), bottom_49 = floor(((sy_44+vh_42)/starTilesize$_45)), ltr_50 = _L.range(left_46,right_48), ttb_51 = _L.range(top_47,bottom_49), st_52 = starTile_10(vp_39), {ctor:"Tuple7", _0:left_46, _1:top_47, _2:right_48, _3:bottom_49, _4:ltr_50, _5:ttb_51, _6:A3(foldl, function(r_69){
   return function(a_70){
    return A3(foldl, function(c_71){
     return function(a2_72){
      return _L.append(a2_72,st_52({ctor:"Tuple2", _0:c_71, _1:r_69}));};}, a_70, ltr_50);};}, _L.Nil, ttb_51)});};
 starTile_10 = F2(function(_56001_73, _56000_74){
  return (e=_56001_73.ctor==='Tuple4'?(e=_56000_74.ctor==='Tuple2'?(shape_87 = A2(rect, 1, 1), absX_81 = function(x_91){
   return ((_56000_74._0*starTilesize_0)+x_91);}, absY_82 = function(y_92){
   return ((_56000_74._1*starTilesize_0)+y_92);}, dx1_83 = function(x_93){
   return ((absX_81(x_93)-_56001_73._2)/2);}, dy1_84 = function(y_94){
   return ((absY_82(y_94)-_56001_73._3)/2);}, dx2_85 = function(x_95){
   return ((absX_81(x_95)-_56001_73._2)/3);}, dy2_86 = function(y_96){
   return ((absY_82(y_96)-_56001_73._3)/3);}, filledRect_88 = function(color_97){
   return A2(filled, color_97, shape_87);}, moved_89 = F2(function(color_98, _53000_99){
   return (e=_53000_99.ctor==='Tuple2'?A3(move, _53000_99._0, _53000_99._1, filledRect_88(color_98)):null,e!==null?e:_E.Case('Line 53, Column 27'));}), star_90 = F2(function(color_102, _54000_103){
   return (e=_54000_103.ctor==='Tuple2'?A2(moved_89, color_102, {ctor:"Tuple2", _0:_54000_103._0, _1:_54000_103._1}):null,e!==null?e:_E.Case('Line 54, Column 26'));}), _L.append(A2(map, function(_0_106){
   return (e=_0_106.ctor==='Tuple2'?A2(star_90, l1color_6, {ctor:"Tuple2", _0:dx1_83(_0_106._0), _1:(0-dy1_84(_0_106._1))}):null,e!==null?e:_E.Case('Line 55, Column 21'));}, starsLevel1_4),A2(map, function(_0_109){
   return (e=_0_109.ctor==='Tuple2'?A2(star_90, l2color_7, {ctor:"Tuple2", _0:dx2_85(_0_109._0), _1:(0-dy2_86(_0_109._1))}):null,e!==null?e:_E.Case('Line 56, Column 21'));}, starsLevel2_5))):null,e!==null?e:_E.Case('Line 45, Column 3')):null,e!==null?e:_E.Case('Line 45, Column 3'));});
 clamp_11 = F3(function(min_112, max_113, x_114){
  return ((_N.cmp(x_114,min_112).ctor==='LT') ? min_112 : ((_N.cmp(x_114,max_113).ctor==='LT') ? x_114 : max_113));});
 stepGame_21 = F2(function(_91001_115, _91000_116){
  return (e=_91001_115.ctor==='Input'?(e=_91001_115._1.ctor==='UserInput'?(e=_91000_116.ctor==='GameState'?(_85000_120 = _91000_116._0, x_121 = _85000_120.x, y_122 = _85000_120.y, angle_123 = _85000_120.angle, dx_124 = _85000_120.dx, dy_125 = _85000_120.dy, GameState_19(_N.replace([['dx',A3(clamp_11, (0-1000), 1000, (dx_124+((toFloat(_91001_115._1._0.y)*10)*sin(angle_123))))],['dy',A3(clamp_11, (0-1000), 1000, (dy_125+(((toFloat(_91001_115._1._0.y)*10)*cos(angle_123))*(0-1))))],['angle',(angle_123+((_91001_115._0*3)*toFloat(_91001_115._1._0.x)))],['x',(x_121+(_91001_115._0*dx_124))],['y',(y_122+(_91001_115._0*dy_125))],['t',_91001_115._0]], _91000_116._0))):null,e!==null?e:_E.Case('Line 85, Column 3')):null,e!==null?e:null):null,e!==null?e:_E.Case('Line 85, Column 3'));});
 background_22 = F2(function(w_126, h_127){
  return A2(move, 0, 0)(A2(filled, black, A2(rect, w_126, h_127)));});
 ship_23 = F3(function(vw_128, vh_129, angle_130){
  return scale(0.25)(rotate(angle_130)(A4(sprite, shipW_14, shipH_15, {ctor:"Tuple2", _0:0, _1:0}, _str('ship2.png'))));});
 whiteTextForm_24 = function(string_131){
  return function(x){
   return text(A2(T.color, white, x));}(toText(string_131));};
 debug_25 = F2(function(key_132, value_133){
  return whiteTextForm_24(_L.append(key_132,_L.append(_str(': '),show(value_133))));});
 display_26 = F2(function(_121001_134, _121000_135){
  return (e=_121001_134.ctor==='Tuple2'?(e=_121000_135.ctor==='GameState'?(vp_139 = viewPort_8({ctor:"Tuple4", _0:_121001_134._0, _1:_121001_134._1, _2:_121000_135._0.x, _3:_121000_135._0.y}), _110000_140 = starLayers_9(vp_139), left_141 = (e=_110000_140.ctor==='Tuple7'?_110000_140._0:null,e!==null?e:_E.Case('Line 110, Column 44')), top_142 = (e=_110000_140.ctor==='Tuple7'?_110000_140._1:null,e!==null?e:_E.Case('Line 110, Column 44')), right_143 = (e=_110000_140.ctor==='Tuple7'?_110000_140._2:null,e!==null?e:_E.Case('Line 110, Column 44')), bottom_144 = (e=_110000_140.ctor==='Tuple7'?_110000_140._3:null,e!==null?e:_E.Case('Line 110, Column 44')), ltr_145 = (e=_110000_140.ctor==='Tuple7'?_110000_140._4:null,e!==null?e:_E.Case('Line 110, Column 44')), ttb_146 = (e=_110000_140.ctor==='Tuple7'?_110000_140._5:null,e!==null?e:_E.Case('Line 110, Column 44')), sl_147 = (e=_110000_140.ctor==='Tuple7'?_110000_140._6:null,e!==null?e:_E.Case('Line 110, Column 44')), displayLayers_148 = _L.Cons(A2(background_22, _121001_134._0, _121001_134._1),_L.append(sl_147,_L.Cons(A3(ship_23, _121001_134._0, _121001_134._1, _121000_135._0.angle),_L.Nil))), A3(container, _121001_134._0, _121001_134._1, topLeft)(layers(_L.Cons(A3(collage, _121001_134._0, _121001_134._1, displayLayers_148),_L.Cons(A2(flow, down, _L.Cons(A2(debug_25, _str('Stars'), {ctor:"Tuple6", _0:left_141, _1:top_142, _2:right_143, _3:bottom_144, _4:ltr_145, _5:ttb_146}),_L.Cons(A2(debug_25, _str('gameState'), _121000_135._0),_L.Nil))),_L.Nil))))):null,e!==null?e:_E.Case('Line 109, Column 3')):null,e!==null?e:_E.Case('Line 109, Column 3'));});
 starTilesize_0 = 1024;
 starDensity_1 = 31;
 starPoints_3 = A2(map, function(x_33){
  return {ctor:"Tuple2", _0:randstar_2(x_33), _1:randstar_2(x_33)};}, _L.range(0,starDensity_1));
 starsLevel1_4 = starPoints_3;
 starsLevel2_5 = starPoints_3;
 l1color_6 = A3(rgb, 184, 184, 184);
 l2color_7 = A3(rgb, 96, 96, 96);
 mapW_12 = 6400;
 mapH_13 = 4800;
 shipW_14 = 170;
 shipH_15 = 166;
 userInput_17 = A2(lift, UserInput_16, arrows);
 defaultGame_20 = GameState_19({
   _:{
   },
   angle:0.0,
   dx:0.0,
   dy:0.0,
   t:0.0,
   x:100.0,
   y:100.0});
 delta_27 = A2(lift, inSeconds, fps(30));
 avgFPS_28 = A2(average, 10, delta_27);
 input_29 = A2(sampleOn, delta_27, A3(lift2, Input_18, delta_27, userInput_17));
 gameState_30 = A3(foldp, stepGame_21, defaultGame_20, input_29);
 main_31 = A3(lift2, display_26, dimensions, gameState_30);
 elm.Native = elm.Native||{};
 var _ = elm.Native.Subspace||{};
 _.$op = {};
 _.starTilesize = starTilesize_0;
 _.starDensity = starDensity_1;
 _.randstar = randstar_2;
 _.starPoints = starPoints_3;
 _.starsLevel1 = starsLevel1_4;
 _.starsLevel2 = starsLevel2_5;
 _.l1color = l1color_6;
 _.l2color = l2color_7;
 _.viewPort = viewPort_8;
 _.starLayers = starLayers_9;
 _.starTile = starTile_10;
 _.clamp = clamp_11;
 _.mapW = mapW_12;
 _.mapH = mapH_13;
 _.shipW = shipW_14;
 _.shipH = shipH_15;
 _.UserInput = UserInput_16;
 _.userInput = userInput_17;
 _.Input = Input_18;
 _.GameState = GameState_19;
 _.defaultGame = defaultGame_20;
 _.stepGame = stepGame_21;
 _.background = background_22;
 _.ship = ship_23;
 _.whiteTextForm = whiteTextForm_24;
 _.debug = debug_25;
 _.display = display_26;
 _.delta = delta_27;
 _.avgFPS = avgFPS_28;
 _.input = input_29;
 _.gameState = gameState_30;
 _.main = main_31
 return elm.Subspace = _;
 };</script></head><body><script type="text/javascript">Elm.init(Elm.Subspace)</script><noscript><p>ship2.png</p><p>: </p><p>Stars</p><p>gameState</p></noscript></body></html>